/**
 * \file  SignalGuard.cpp
 * \brief
 */


#include "SignalGuard.h"

#include "Utils.h"


namespace qtlib
{

/**************************************************************************************************
*   public
*
**************************************************************************************************/

//-------------------------------------------------------------------------------------------------
SignalGuard::SignalGuard(
    QObject *a_target,
    cchar   *a_slot
)
{
   connect(this,     SIGNAL( sig_trigger() ),
           a_target, a_slot);
}
//-------------------------------------------------------------------------------------------------
SignalGuard::~SignalGuard()
{
   if (_isEmit) {
      Q_EMIT sig_trigger();
   }
}
//-------------------------------------------------------------------------------------------------
void
SignalGuard::setEmit(
    cbool a_flag
)
{
    _isEmit = a_flag;
}
//-------------------------------------------------------------------------------------------------

} // namespace qtlib
